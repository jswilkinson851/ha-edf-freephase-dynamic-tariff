# ğŸ§ª Contributing Guide â€” Running Tests & Development Setup

Thank you for contributing to the **EDF FreePhase Dynamic Tariff** integration!  
This guide explains how to run tests, lint the code, and prepare changes before opening a pull request.

---

# 1. ğŸ“¦ Install Dependencies

Make sure you have **Python 3.12** installed.

Install development dependencies:

```bash
pip install -r requirements.txt
pip install pytest pytest-asyncio pytest-cov aioresponses
```

If you use a virtual environment (recommended):

```bash
python -m venv venv
source venv/bin/activate
```

On Windows (PowerShell):

```powershell
python -m venv venv
venv\Scripts\activate
```

## 2. ğŸ§¹ Linting & Formatting
This project uses Ruff for linting and formatting.

Run lint checks:

```bash
ruff check .
```

Autoâ€‘format the code:

```bash
ruff format .
```

## 4. ğŸ—ï¸ Local Development Tips

Using the Home Assistant Dev Container (optional)
If you prefer a full HA dev environment:

1. Install the Home Assistant VS Code Dev Container
2. Open the repository inside the container
3. ome Assistant will run with your integration mounted live
4. You can test config flows, entity registration, diagnostics, and events interactively

Testing the integration manually
Before submitting a PR, please ensure:

- The integration loads correctly in Home Assistant
- Entities register under the correct device
- No warnings or errors appear in the logs
- Event entity emits events as expected
- Naming conventions follow edf_fpd_<object_id>
- New entities include meaningful unique_ids

---

## 3. Before submitting a PR

Please ensure:

- Coverage is reasonable

- No new warnings appear

- The integration loads correctly in Home Assistant

---

If you have any questions or want help writing tests, feel free to open a discussion or ask in the Facebook group.

---

Thank you for helping improve the EDF FreePhase Dynamic Tariff integration! Your contributions are greatly appreciated. ğŸ™
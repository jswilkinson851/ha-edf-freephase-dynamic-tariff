# ğŸ§ª Contributing Guide â€” Running Tests & Development Setup

Thank you for contributing to the **EDF FreePhase Dynamic Tariff** integration!  
This guide explains how to run tests, lint the code, and prepare changes before opening a pull request.

---

# 1. ğŸ“¦ Install Dependencies

Make sure you have **Python 3.12** installed.

Install development dependencies:

```bash
pip install -r requirements.txt
pip install pytest pytest-asyncio pytest-cov aioresponses
```

If you use a virtual environment (recommended):

```bash
python -m venv venv
source venv/bin/activate
```

On Windows (PowerShell):

```powershell
python -m venv venv
venv\Scripts\activate
```

## 2. ğŸ§¹ Linting & Formatting
This project uses Ruff for linting and formatting.

Run lint checks:

```bash
ruff check .
```

Autoâ€‘format the code:

```bash
ruff format .
```

## 3. ğŸ—ï¸ Local Development Tips

Using the Home Assistant Dev Container (optional)
If you prefer a full HA dev environment:

1. Install the Home Assistant VS Code Dev Container
2. Open the repository inside the container
3. ome Assistant will run with your integration mounted live
4. You can test config flows, entity registration, diagnostics, and events interactively

Testing the integration manually
Before submitting a PR, please ensure:

- The integration loads correctly in Home Assistant
- Entities register under the correct device
- No warnings or errors appear in the logs
- Event entity emits events as expected
- Naming conventions follow edf_fpd_<object_id>
- New entities include meaningful unique_ids

---
## 5. âœ”ï¸ Before Submitting a Pull Request
Please check:

- Tests pass
- Coverage is reasonable
- Ruff reports no issues
- The integration loads cleanly in HA
- Documentation is updated if needed
- Example dashboards/automations are updated if entity IDs changed
- If your PR introduces new entities, please update:
  - README.md
  - docs/entities.md
  - docs/naming.md
  - Example dashboards (if relevant)

## 6. ğŸ’¬ Questions & Support
If you need help writing tests, understanding the architecture, or want guidance on a feature, feel free to:

- Open a GitHub Discussion
- Ask in the Facebook group
- Or open a draft PR and request feedback

Thank you for helping improve the EDF FreePhase Dynamic Tariff integration â€”
your contributions make the project better for everyone. ğŸ™